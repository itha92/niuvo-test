server {
  listen 4201;

  # Serve built app from /usr/share/nginx/html/angular1
  root /usr/share/nginx/html;

  # Static assets under /angular1/...
  location ^~ /angular1/assets/ {
    alias /usr/share/nginx/html/angular1/assets/;
    try_files $uri =404;
  }

  # SPA routes under /angular1/... fall back to index.html
  location ^~ /angular1/ {
    try_files $uri $uri/ /angular1/index.html;
  }

  # Health (optional)
  location = /health {
    return 200 'ok';
  }

  # Never cache HTML
  location ~* \.html$ {
    add_header Cache-Control "no-store";
  }
}
